{
  "version": 3,
  "sources": ["../../src/lib/linear-gradient.ts"],
  "sourcesContent": ["import type { Rect, RgbColor } from \"./abstractions.js\";\r\n\r\ntype ColorStop = [offset: number, color: RgbColor];\r\n\r\nexport interface ILinearGradient {\r\n    create(ctx: CanvasRenderingContext2D, includeAlpha: boolean, ...rect: Rect): CanvasGradient;\r\n    render(ctx: CanvasRenderingContext2D, includeAlpha: boolean, ...rect: Rect): void;\r\n}\r\n\r\nexport class LinearGradient implements ILinearGradient {\r\n\r\n    constructor(\r\n        ...colorStops: ColorStop[]\r\n    ) {\r\n        this.colorStops = colorStops;\r\n    }\r\n\r\n    protected readonly colorStops: ColorStop[];\r\n\r\n    private toRgb(color: RgbColor, includeAlpha: boolean): string {\r\n        const [r, g, b, a] = color;\r\n        const rgb = [r, g, b].join(\" \");\r\n        const aTail = includeAlpha && a !== undefined ? ` / ${a}` : \"\";\r\n        return `rgb(${rgb}${aTail})`;\r\n    }\r\n\r\n    create(ctx: CanvasRenderingContext2D, includeAlpha: boolean, ...rect: Rect): CanvasGradient {\r\n        const [x, y, , h] = rect;\r\n        const linGrad = ctx.createLinearGradient(x, y, 0, h);\r\n        for (const [offset, color] of this.colorStops) {\r\n            linGrad.addColorStop(offset, this.toRgb(color, includeAlpha));\r\n        }\r\n        return linGrad;\r\n    }\r\n\r\n    render(ctx: CanvasRenderingContext2D, includeAlpha: boolean, ...rect: Rect): void {\r\n        const linGrad = this.create(ctx, includeAlpha, ...rect);\r\n        ctx.save();\r\n        ctx.fillStyle = linGrad;\r\n        ctx.fillRect(...rect);\r\n        ctx.restore();\r\n    }\r\n\r\n}\r\n"],
  "mappings": "AASO,MAAMA,CAA0C,CAEnD,eACOC,EACL,CACE,KAAK,WAAaA,CACtB,CAIQ,MAAMC,EAAiBC,EAA+B,CAC1D,KAAM,CAACC,EAAGC,EAAGC,EAAGC,CAAC,EAAIL,EACfM,EAAM,CAACJ,EAAGC,EAAGC,CAAC,EAAE,KAAK,GAAG,EACxBG,EAAQN,GAAgBI,IAAM,OAAY,MAAMA,IAAM,GAC5D,MAAO,OAAOC,IAAMC,IACxB,CAEA,OAAOC,EAA+BP,KAA0BQ,EAA4B,CACxF,KAAM,CAACC,EAAGC,EAAG,CAAEC,CAAC,EAAIH,EACdI,EAAUL,EAAI,qBAAqBE,EAAGC,EAAG,EAAGC,CAAC,EACnD,SAAW,CAACE,EAAQd,CAAK,IAAK,KAAK,WAC/Ba,EAAQ,aAAaC,EAAQ,KAAK,MAAMd,EAAOC,CAAY,CAAC,EAEhE,OAAOY,CACX,CAEA,OAAOL,EAA+BP,KAA0BQ,EAAkB,CAC9E,MAAMI,EAAU,KAAK,OAAOL,EAAKP,EAAc,GAAGQ,CAAI,EACtDD,EAAI,KAAK,EACTA,EAAI,UAAYK,EAChBL,EAAI,SAAS,GAAGC,CAAI,EACpBD,EAAI,QAAQ,CAChB,CAEJ",
  "names": ["LinearGradient", "colorStops", "color", "includeAlpha", "r", "g", "b", "a", "rgb", "aTail", "ctx", "rect", "x", "y", "h", "linGrad", "offset"]
}
